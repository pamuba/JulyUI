<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <dialog id="favDialog">
        <form method="dialog">
            <p>
                <label>Favourite Animal
                    <select>
                        <option></option>
                        <option>Brine Shrimp</option>
                        <option>Red Panda</option>
                        <option>Chicken Fry</option>
                    </select>
                </label>
            </p>
            <menu>
                <button value="cancel">Cencel</button>
                <button id="confirmBtn" value="confirm">Confirm</button>
            </menu>
        </form>
    </dialog>
    <menu>
        <button id="updateDetail">Update Details</button>
    </menu>

    <output></output>

    <script>
        var updateButton = document.getElementById('updateDetail')
        var favDialog = document.getElementById('favDialog')
        var outputbox = document.querySelector('output')
        var selectEl = document.querySelector('select')
        var confirmBtn = document.getElementById('confirmBtn')

        //Open the dialog
        updateButton.addEventListener('click', function onOpen(){
            if(typeof favDialog.showModal === "function"){
                favDialog.showModal();
            }
            else{
                alert("The <dialog> API is not supported by this browser")
            }
        })
        selectEl.addEventListener('change', function onSelect(e){
            confirmBtn.value = selectEl.value
        });

        favDialog.addEventListener('close', function onClose(){
            outputbox.value = favDialog.returnValue + ' button clicked - ' + (new Date()).toString()
        })
    </script>
    
</body>
</html>